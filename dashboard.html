<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>
<style>
body { font-family:sans-serif; background:#f0f0f0; text-align:center; padding:20px; }
#tokenDisplay { font-size:18px; margin-bottom:20px; }
#ffIcon {
    display:inline-block;
    width:150px;
    height:150px;
    border-radius:20px;
    cursor:pointer;
}
button { padding:6px 12px; border:none; border-radius:6px; background:#ffd166; color:#081226; font-weight:bold; cursor:pointer; margin-top:20px; }
</style>
</head>
<body>

<h2>Dashboard</h2>
<div id="tokenDisplay">Tokens: 0</div>

<!-- FF Logo -->
<img id="ffIcon" src="images/ff_icon.png" alt="Fugga Fod">

<button id="logoutBtn">Logout</button>

<script>
function updateTokenDisplay(){
    const user = localStorage.getItem("currentUser");
    if(!user) return;
    const tokens = parseInt(localStorage.getItem("tokens_" + user)) || 0;
    document.getElementById("tokenDisplay").innerText = "Tokens: " + tokens;
}

// FF Icon click
document.getElementById("ffIcon").addEventListener("click", ()=>{
    const user = localStorage.getItem("currentUser");
    if(!user){ alert("Please login first"); return; }

    const cost = 50; // cost to play
    let currentTokens = parseInt(localStorage.getItem("tokens_" + user)) || 0;

    if(currentTokens >= cost){
        localStorage.setItem("tokens_" + user, currentTokens - cost);
        updateTokenDisplay();
        window.location.href="FuggaFod.html"; // open game
    } else {
        alert("Not enough tokens to play!");
    }
});

// Logout
document.getElementById("logoutBtn").addEventListener("click", ()=>{
    localStorage.removeItem("currentUser");
    window.location.href="index.html";
});

// Update tokens on load
updateTokenDisplay();
</script>
</body>
</html>
